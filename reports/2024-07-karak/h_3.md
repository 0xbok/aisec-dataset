## [H] A `DoS` on snapshots due to a rounding error in calculations

Creating a snapshot may be impossible due to a rounding error in the calculations.

### Proof of Concept

When initiating a snapshot, some assets are transferred to the slash store within the `_transferToSlashStore()` function. The transfer amount is calculated at `L430`. However, if `convertToAssets(balanceOf(nodeOwner))` exceeds `node.totalRestakedETH` (which could occur due to a rounding error in the calculations), the transaction will revert due to an integer underflow.

```solidity
    function _transferToSlashStore(address nodeOwner) internal {
        ...

430     uint256 slashedAssets = node.totalRestakedETH - convertToAssets(balanceOf(nodeOwner));
        ...
```

Consider the following scenario:

**Note:** The exchange rate formula is `(totalAssets + 1) / (totalSupply + 1)` as defined in [ERC4626](https://github.com/vectorized/solady/blob/main/src/tokens/ERC4626.sol#L201).

1.  Current state of the `NativeVault`:
    *   `totalAssets` = 3e18
    *   `totalSupply` = 5e18
    *   Bob's share = (5e18 - 4) / 2
    *   Bob's assets = (5e18 - 4) / 2 &ast; (3e18 + 1) / (5e18 + 1) = 1.5e18 - 2
    *   `totalRestakedETH` for Bob's node = 1.5e18 - 2
2.  An increase in totalAssets by 3:
    *   Corresponding share = 3 &ast; (5e18 + 1) / (3e18 + 1) = 4
    As a result:
    *   `totalAssets` = 3e18 + 3
    *   `totalSupply` = 5e18 + 4
    *   Bob's assets = (5e18 - 4) / 2 &ast; (3e18 + 4) / (5e18 + 5) = 1.5e18 - 1
    *   `totalRestakedETH` for Bob's node = 1.5e18 - 2

In this situation, Bob's snapshot will revert because `convertToAssets(balanceOf(nodeOwner))` is greater than `node.totalRestakedETH`.

This issue arises from calculation rounding errors. As seen in the scenario above, the issue can arise even with a single increase in totalAssets, and the likelihood of this problem grows as the number of participants increases.

Additionally, attackers could exploit this vulnerability to execute a `DoS` attack on others' snapshots by transfering DUST ethers to the nodeAddress and performing the second step of the above scenario.



