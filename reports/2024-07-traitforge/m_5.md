## [M] Incorrect check against golden entropy value in the first two batches

Entropy is stored in `uint256` slots, with each slot able to contain 13 concatenated entropies. Entropies are generated in three passes, and there is a *golden entropy* value `999999` that should not be generated in the first two passes, [as specified in the documentation](https://github.com/TraitForge/GitBook/blob/main/GamePlay/Entropy.md#entropy):

> There is a certain entropy, “999999” which is referred to as “the Golden God”, since it has perfect parameters and will exceed all other entities if played correctly. **The Golden God is scanned for and is kept out of the first 2 passes**, but is deliberately set in the final pass (at some random point).

The issue is that [`writeEntropyBatch1`](relative_path_091409:contracts/EntropyGenerator/EntropyGenerator.sol#L56) and [`writeEntropyBatch2`](relative_path_091409:contracts/EntropyGenerator/EntropyGenerator.sol#L76) functions do not correctly check for the golden entropy:

```solidity
function writeEntropyBatch1() public {
    require(lastInitializedIndex < batchSize1, 'Batch 1 already initialized.');

    uint256 endIndex = lastInitializedIndex + batchSize1; // calculate the end index for the batch
    unchecked {
      for (uint256 i = lastInitializedIndex; i < endIndex; i++) {
        uint256 pseudoRandomValue = uint256(
          keccak256(abi.encodePacked(block.number, i))
        ) % uint256(10) ** 78; // generate a  pseudo-random value using block number and index
        require(pseudoRandomValue != 999999, 'Invalid value, retry.'); // @audit INCORRECT check
        entropySlots[i] = pseudoRandomValue; // store the value in the slots array
      }
    }
    lastInitializedIndex = endIndex;
  }
```

The function (same for `writeEntropyBatch2`) attempts to ensure that no golden entropy is generated using the following check: `require(pseudoRandomValue != 999999, 'Invalid value, retry.');`. However, this check is incorrect because `pseudoRandomValue` does NOT represent a *single* entropy value but **represents the entire slot value, which contains 13 entropies**. For example, if the pseudo-randomly generated slot value is `........999999123345`, the check will pass while it should not because the second entropy is a golden one.



