## [M] Users' ability to nuke will be DoSed for three days after putting NFTs up for sale and canceling the sale

Users will not be able to nuke their NFTs for three days after canceling sale of their NFTs.

### Proof of Concept

When a user puts up their NFT for sale and cancels their NFT sale, the NFT is transferred to the EntityTrading contract and back to the owner.
This transfer triggers the `_beforeTokenTransfer` function, which resets the `lastTokenTransferredTimestamp` variable.

[contracts/TraitForgeNft/TraitForgeNft.sol#L367-L395](repos/2024-07-traitforge/contracts/TraitForgeNft/TraitForgeNft.sol#L367-L395)

```solidity
  function _beforeTokenTransfer(
    address from,
    address to,
    uint256 firstTokenId,
    uint256 batchSize
  ) internal virtual override {
    super._beforeTokenTransfer(from, to, firstTokenId, batchSize);

    uint listedId = entityForgingContract.getListedTokenIds(firstTokenId);
    /// @dev don't update the transferred timestamp if from and to address are same
    if (from != to) { 
      lastTokenTransferredTimestamp[firstTokenId] = block.timestamp;
    }

    if (listedId > 0) {
      IEntityForging.Listing memory listing = entityForgingContract.getListings(
        listedId
      );
      if (
        listing.tokenId == firstTokenId &&
        listing.account == from &&
        listing.isListed
      ) {
        entityForgingContract.cancelListingForForging(firstTokenId);
      }
    }

    require(!paused(), 'ERC721Pausable: token transfer while paused');
  }
```

This timestamp is later [checked](repos/2024-07-traitforge/contracts/NukeFund/NukeFund.sol#L163) by the nuke function to verify if the owner has held the token for at least three days, allowing them to nuke the NFT for rewards.

The issue arises because the transfers [to](repos/2024-07-traitforge/contracts/EntityTrading/EntityTrading.sol#L53) and [from](repos/2024-07-traitforge/contracts/EntityTrading/EntityTrading.sol#L104) the EntityTrading contract, triggered by the sale listing and cancellation, reset the `lastTokenTransferredTimestamp`. As a result, even though the owner still possesses the token, the reset timestamp prevents them from nuking the NFT for another three days, denying them the opportunity to receive rewards.



