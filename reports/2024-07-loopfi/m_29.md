## [M] Bug in `claim` allows users who are disqualified to claim their previously earned emissions

In `ChefIncentivesController.sol`:

```solidity
function claim(address _user, address[] memory _tokens) public whenNotPaused {
  if (eligibilityMode != EligibilityModes.DISABLED) {
->    if (!eligibleDataProvider.isEligibleForRewards(_user)) revert EligibleRequired();
->    checkAndProcessEligibility(_user, true, true);
  }
  ........
}
```

The function calls `isEligibleForRewards` without calling `refresh`; hence, things like disqualification resulting from a change in price will not be accounted for. This transaction will go through without reverting, allowing the user to `claim` even though his total value locked is now below 5% of his debt due to the price change of the token.

The `checkAndProcessEligibility(_user, true, true);` function, however, does include `refresh`, which will update the user's status. Hence, that line should be called first, so that the transaction will revert in the `if statement`, to prevent malicious lockers from calling this function even when they are not eligible.



