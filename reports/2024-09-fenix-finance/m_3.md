## [M] If rewards are not distributed to some gauges in an epoch, it can lead to incorrect rewards distribution in the next epoch

Some gauges may receive more rewards, while others may not receive any rewards at all.

In the `VoterUpgradeableV2.notifyRewardAmount` function, the `index` is accumulated for every reward distribution from the minter. When distributing rewards to gauges, the reward amount is calculated using the delta index and `weightsPerEpoch`.

[VoterUpgradeableV2.sol#L630-L640](contracts/core/VoterUpgradeableV2.sol#L630-L640):
```solidity
        uint256 totalVotesWeight = weightsPerEpoch[currentTimestamp - _WEEK][state.pool];
        uint256 delta = index - state.index;
        if (delta > 0) {
L634:       uint256 amount = (totalVotesWeight * delta) / 1e18;
            if (state.isAlive) {
                gaugesState[gauge_].claimable += amount;
            } else {
                IERC20Upgradeable(token).safeTransfer(minter, amount);
            }
        }
```

If rewards are not distributed to a gauge in the current epoch, they can be distributed in the next epoch. If `weightsPerEpoch` for that gauge changes in the next epoch, the reward amount may be calculated incorrectly, leading to unfair distribution among the gauges.

Let's consider the following scenario:

1. There are two pools, `poolA` and `poolB`, with corresponding gauges `gaugeA` and `gaugeB`.

2. Users vote 50 for each pool individually in the first week: `weightsPerEpoch = 50`, `totalWeightsPerEpoch = 100`.

3. In the second week, users call the `distribute` function only for `poolA`, and the minter transfers 100 FNX. Of this, 50 FNX is transferred to `gaugeA`, while the remaining 50 FNX stays in the contract. At that time, users never call the `distribute` function for `poolB`. This situation can occur if the creator of `poolB` intentionally does not call the `distribute` function and other users lack the incentive to call it.
    - `index = 100 * 1e18 / 100 = 1e18`.
    - Rewards amount for `gaugeA`: `50 * 1e18 / 1e18 = 50`.
    - `gaugesState[gaugeA].index = 1e18`.
    - `gaugesState[gaugeB].index = 0`.

4. In this week, users vote 10 for `poolA` and 90 for `poolB` individually.

5. In the third week, users call the `distribute` function for both pools, and the minter transfers another 100 FNX.
    - `index = index + 100 * 1e18 / 100 = 2e18`.
    - Rewards amount for `gaugeA`: `10 * 1e18 / 1e18 = 10`.
    - Rewards amount for `gaugeB`: `90 * 2e18 / 1e18 = 180`.

Even though the `VoterUpgradeableV2` contract has 150 FNX from the minter, it attempts to transfer 190 FNX to the gauges. As a result, the rewards distribution to the gauges is reverted.

As a result, if rewards are not distributed to some gauges in an epoch, it can lead to incorrect rewards distribution in the next epoch.